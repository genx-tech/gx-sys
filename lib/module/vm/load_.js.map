{"version":3,"sources":["load_.js"],"names":["System","_each","load_","file","variables","deps","loader","constructor","config","global","v","k","set","import"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAeC,KAAf,CAAqBC,IAArB,EAA2BC,SAA3B,EAAsCC,IAAtC,EAA4C;AACxC,MAAIC,MAAM,GAAG,IAAIN,MAAM,CAACO,WAAX,EAAb;;AAEA,MAAIH,SAAJ,EAAe;AACXE,IAAAA,MAAM,CAACE,MAAP,CAAc;AAAEC,MAAAA,MAAM,EAAEL;AAAV,KAAd;AACH;;AAED,MAAIC,IAAJ,EAAU;AACNJ,IAAAA,KAAK,CAACI,IAAD,EAAO,CAACK,CAAD,EAAIC,CAAJ,KAAU;AAClBL,MAAAA,MAAM,CAACM,GAAP,CAAWD,CAAX,EAAcD,CAAd;AACH,KAFI,CAAL;AAGH;;AAED,SAAO,MAAMJ,MAAM,CAACO,MAAP,CAAcV,IAAd,CAAb;AACH;;AAED,eAAeD,KAAf","sourcesContent":["import System from 'systemjs';\nimport _each from 'lodash/each';\n\n/**\n * Load a js file in sand box.\n * @alias vm.load_\n * @param {string} file - Source file\n * @param {object} [variables] - Variables as global\n * @param {object} [deps] - Dependencies\n * @returns {AsyncFunction.<*>}\n */\nasync function load_(file, variables, deps) {\n    let loader = new System.constructor();\n\n    if (variables) {\n        loader.config({ global: variables });\n    }\n\n    if (deps) {\n        _each(deps, (v, k) => {\n            loader.set(k, v);\n        });\n    }\n\n    return await loader.import(file);\n}\n\nexport default load_;\n"]}