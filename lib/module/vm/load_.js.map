{"version":3,"sources":["load_.js"],"names":["load_","file","variables","deps","loader","System","constructor","config","v","k","set","import"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;SACeA,K;;;;;mEAAf,iBAAqBC,IAArB,EAA2BC,SAA3B,EAAsCC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,MADR,GACiB,IAAIC,kBAAOC,WAAX,EADjB;;AAGI,gBAAIJ,SAAJ,EAAe;AACXE,cAAAA,MAAM,CAACG,MAAP,CAAc;AAAC,0BAAUL;AAAX,eAAd;AACH;;AAED,gBAAIC,IAAJ,EAAU;AACN,kCAAMA,IAAN,EAAY,UAACK,CAAD,EAAIC,CAAJ,EAAU;AAClBL,gBAAAA,MAAM,CAACM,GAAP,CAAWD,CAAX,EAAcD,CAAd;AACH,eAFD;AAGH;;AAXL;AAAA,mBAaiBJ,MAAM,CAACO,MAAP,CAAcV,IAAd,CAbjB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;eAgBeD,K","sourcesContent":["import System from 'systemjs';\nimport _each from 'lodash/each';\n\n/**\n * Load a js file in sand box.\n * @param {string} file - Source file\n * @param {object} [variables] - Variables as global\n * @param {object} [deps] - Dependencies\n * @returns {AsyncFunction.<*>}\n */\nasync function load_(file, variables, deps) {    \n    let loader = new System.constructor();\n\n    if (variables) {\n        loader.config({'global': variables});\n    }\n\n    if (deps) {\n        _each(deps, (v, k) => {\n            loader.set(k, v);\n        });\n    }\n\n    return await loader.import(file);\n}\n\nexport default load_;\n"]}